extends layout

block content
  //- Hero Section
  .hero-section.bg-primary.text-white.py-5.mb-5
    .container
      .row.align-items-center
        .col-lg-6
          h1.display-3.fw-bold.mb-3 ðŸŽ¬ Movie Express
          h2.h4.mb-4.text-white-75 Your Ultimate Movie Rental Experience
          p.lead.mb-4 Discover thousands of movies, from timeless classics to the latest blockbusters. Rent, watch, and enjoy from the comfort of your home.
          if user
            .d-flex.flex-wrap.gap-3
              a.btn.btn-light.btn-lg(href='/films')
                i.fas.fa-film.me-2
                | Browse Movies
              a.btn.btn-outline-light.btn-lg(href='/customer/dashboard')
                i.fas.fa-tachometer-alt.me-2
                | My Dashboard
              form(action="/auth/logout" method="POST" style="display: inline;")
                button.btn.btn-outline-light.btn-lg(type="submit" name="logout")
                  i.fas.fa-sign-out-alt.me-2
                  | Logout
          else
            .d-flex.flex-wrap.gap-3
              a.btn.btn-light.btn-lg(href='/auth/register')
                i.fas.fa-user-plus.me-2
                | Get Started
              a.btn.btn-outline-light.btn-lg(href='/auth/login')
                i.fas.fa-sign-in-alt.me-2
                | Sign In
        .col-lg-6.text-center.mt-4.mt-lg-0
          .hero-graphic
            i.fas.fa-play-circle.fa-8x.text-white-50.mb-3
            .d-flex.justify-content-center.gap-3
              i.fas.fa-star.fa-2x.text-warning
              i.fas.fa-heart.fa-2x.text-danger
              i.fas.fa-thumbs-up.fa-2x.text-success

  .container
    //- Welcome Message with Flash Messages
    if messages && (messages.success || messages.error)
      .row.mb-4
        .col-12
          if messages.success && messages.success.length
            each msg in messages.success
              .alert.alert-success.alert-dismissible.fade.show(role='alert')
                i.fas.fa-check-circle.me-2
                | #{msg}
                button.btn-close(type='button' data-bs-dismiss='alert' aria-label='Close')
          if messages.error && messages.error.length
            each msg in messages.error
              .alert.alert-danger.alert-dismissible.fade.show(role='alert')
                i.fas.fa-exclamation-triangle.me-2
                | #{msg}
                button.btn-close(type='button' data-bs-dismiss='alert' aria-label='Close')

    //- User Welcome Section
    if user
      .row.mb-5
        .col-12
          .card.border-0.shadow-sm.bg-light
            .card-body.text-center.py-4
              h3.text-primary.mb-3
                i.fas.fa-user-circle.me-2
                | Welcome back, #{user.first_name || user.firstName}!
              p.text-muted.mb-4 Ready to discover your next favorite movie?
              .row.g-3
                .col-md-3
                  a.btn.btn-outline-primary.w-100(href='/films')
                    i.fas.fa-search.me-2
                    | Browse Movies
                .col-md-3
                  a.btn.btn-outline-success.w-100(href='/customer/dashboard')
                    i.fas.fa-list.me-2
                    | My Rentals
                .col-md-3
                  a.btn.btn-outline-info.w-100(href='/customer/spending')
                    i.fas.fa-chart-line.me-2
                    | Spending History
                .col-md-3
                  a.btn.btn-outline-secondary.w-100(href='/customer/profile')
                    i.fas.fa-cog.me-2
                    | My Profile

    //- Features Section
    .row.mb-5
      .col-12
        h2.text-center.mb-4.display-6 Why Choose Movie Express?
      .col-lg-4.mb-4
        .card.h-100.border-0.shadow-sm.text-center
          .card-body.py-4
            .mb-3
              i.fas.fa-infinity.fa-3x.text-primary
            h4.card-title Unlimited Selection
            p.card-text Thousands of movies across all genres. From action-packed blockbusters to indie gems, we have something for everyone.
      .col-lg-4.mb-4
        .card.h-100.border-0.shadow-sm.text-center
          .card-body.py-4
            .mb-3
              i.fas.fa-bolt.fa-3x.text-warning
            h4.card-title Instant Rental
            p.card-text Rent movies instantly with just a click. No waiting, no hassle. Start watching your favorites right away.
      .col-lg-4.mb-4
        .card.h-100.border-0.shadow-sm.text-center
          .card-body.py-4
            .mb-3
              i.fas.fa-shield-alt.fa-3x.text-success
            h4.card-title Secure & Reliable
            p.card-text Your data is safe with us. Secure payments and reliable service you can trust.

    //- Featured Movies Section
    if featuredFilms && featuredFilms.length
      .row.mb-5
        .col-12
          h2.text-center.mb-4.display-6 Featured Movies
        each film in featuredFilms.slice(0, 6)
          .col-lg-4.col-md-6.mb-4
            .card.h-100.shadow-hover.border-0
              if film.image_url
                img.card-img-top(src=film.image_url alt=film.title style="height: 250px; object-fit: cover;")
              else
                .card-img-top.bg-gradient.d-flex.align-items-center.justify-content-center(style="height: 250px; background: linear-gradient(45deg, #007bff, #6f42c1);")
                  .text-center.text-white
                    i.fas.fa-film.fa-3x.mb-2
                    div.fw-bold= film.title
              .card-body.d-flex.flex-column
                h5.card-title= film.title
                p.text-muted.small
                  if film.release_year
                    i.fas.fa-calendar.me-1
                    | #{film.release_year}
                  if film.rating
                    span.ms-3
                      i.fas.fa-star.me-1
                      | #{film.rating}
                p.card-text.flex-grow-1= film.description || 'Discover this amazing movie.'
                .mt-auto
                  a.btn.btn-primary.w-100(href=`/films/${film.film_id || film.id}`)
                    i.fas.fa-eye.me-2
                    | View Details

    //- Call to Action
    if !user
      .row.mb-5
        .col-12
          .card.bg-primary.text-white.border-0
            .card-body.text-center.py-5
              h2.display-6.mb-3 Ready to Start Your Movie Journey?
              p.lead.mb-4 Join thousands of movie lovers who trust Movie Express for their entertainment needs.
              .d-flex.justify-content-center.gap-3
                a.btn.btn-light.btn-lg(href='/auth/register')
                  i.fas.fa-user-plus.me-2
                  | Create Account
                a.btn.btn-outline-light.btn-lg(href='/films')
                  i.fas.fa-eye.me-2
                  | Browse Movies


  //- Custom Styles
  style.
    .hero-section {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .text-white-75 {
      color: rgba(255, 255, 255, 0.75);
    }
    .shadow-hover {
      transition: all 0.3s ease;
    }
    .shadow-hover:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15) !important;
    }
    .hero-graphic i {
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
  
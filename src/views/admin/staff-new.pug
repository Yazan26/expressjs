extends ../layout

block content
  .container.mt-4
    .row.justify-content-center
      .col-md-8.col-lg-6
        .card
          .card-header
            h2.h4.mb-0
              i.fas.fa-user-plus.me-2.text-success
              | Create New Staff Account
          
          .card-body
            // Error Messages
            if error
              .alert.alert-danger.alert-dismissible.fade.show
                i.fas.fa-exclamation-triangle.me-2
                | #{error}
                button.btn-close(type="button", data-bs-dismiss="alert")

            form(method="POST", action="/admin/staff")
              .row.mb-3
                .col-md-6
                  label.form-label(for="firstName") First Name
                  input.form-control(
                    type="text", 
                    id="firstName", 
                    name="firstName", 
                    value=formData.firstName || '',
                    required
                  )
                .col-md-6
                  label.form-label(for="lastName") Last Name
                  input.form-control(
                    type="text", 
                    id="lastName", 
                    name="lastName", 
                    value=formData.lastName || '',
                    required
                  )
              
              .mb-3
                label.form-label(for="email") Email Address
                input.form-control(
                  type="email", 
                  id="email", 
                  name="email", 
                  value=formData.email || '',
                  required
                )
              
              .mb-3
                label.form-label(for="username") Username
                input.form-control(
                  type="text", 
                  id="username", 
                  name="username", 
                  value=formData.username || '',
                  required
                )
                .form-text Used for login. Must be unique.
              
              .mb-3
                label.form-label(for="password") Password
                input.form-control(
                  type="password", 
                  id="password", 
                  name="password", 
                  required
                )
                .form-text Minimum 6 characters.
              
              .mb-3
                label.form-label(for="role") Role
                select.form-select(
                  id="role", 
                  name="role",
                  required
                )
                  option(value="staff", selected=formData.role === 'staff' || !formData.role) Staff
                  option(value="admin", selected=formData.role === 'admin') Admin
                .form-text 
                  | Staff members can handle rentals and basic operations. 
                  | Admins can manage staff accounts and system settings.
              
              .d-flex.gap-2.justify-content-between
                a.btn.btn-outline-secondary(href="/admin/staff")
                  i.fas.fa-arrow-left.me-2
                  | Back to Staff List
                
                button.btn.btn-success(type="submit")
                  i.fas.fa-user-plus.me-2
                  | Create Staff Account

          .card-footer.text-muted.small
            i.fas.fa-info-circle.me-1
            | The new staff member will be able to login immediately with the provided credentials.
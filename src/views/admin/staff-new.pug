extends ../layout

block content
  .container.mt-4
    .row.justify-content-center
      .col-md-8.col-lg-6
        .card
          .card-header
            h2.h4.mb-0
              i.fas.fa-user-plus.me-2.text-success
              | Create New Staff Account
          
          .card-body
            // Error Messages
            if error
              .alert.alert-danger.alert-dismissible.fade.show
                i.fas.fa-exclamation-triangle.me-2
                | #{error}
                button.btn-close(type="button", data-bs-dismiss="alert")

            form(method="POST", action="/admin/staff")
              .row.mb-3
                .col-md-6
                  label.form-label(for="first_name") First Name
                  input.form-control(
                    type="text", 
                    id="first_name", 
                    name="first_name", 
                    required
                  )
                .col-md-6
                  label.form-label(for="last_name") Last Name
                  input.form-control(
                    type="text", 
                    id="last_name", 
                    name="last_name", 
                    required
                  )
              
              .mb-3
                label.form-label(for="email") Email Address
                input.form-control(
                  type="email", 
                  id="email", 
                  name="email", 
                  required
                )
                .form-text Will be normalized to @moviesexpressrentals.com domain
              
              .mb-3
                label.form-label(for="username") Username
                input.form-control(
                  type="text", 
                  id="username", 
                  name="username", 
                  pattern="[a-zA-Z0-9._-]+",
                  required
                )
                .form-text Used for login. Only letters, numbers, dots, underscores, and hyphens allowed.
              
              .mb-3
                label.form-label(for="password") Password
                input.form-control(
                  type="password", 
                  id="password", 
                  name="password", 
                  minlength="6",
                  required
                )
                .form-text Minimum 6 characters for security.
              
              .mb-3
                label.form-label(for="role") Role
                select.form-select(
                  id="role", 
                  name="role",
                  required
                )
                  option(value="staff", selected) Staff
                  option(value="admin") Admin
                .form-text 
                  | Staff members can handle rentals and basic operations. 
                  | Admins can manage staff accounts and system settings.
              
              .mb-3
                label.form-label(for="store_id") Store Assignment
                select.form-select(
                  id="store_id", 
                  name="store_id",
                  required
                )
                  option(value="1", selected) Store 1
                  option(value="2") Store 2
                .form-text Store location for this staff member.
              
              .d-flex.gap-2.justify-content-between
                a.btn.btn-outline-secondary(href="/admin/staff")
                  i.fas.fa-arrow-left.me-2
                  | Back to Staff List
                
                button.btn.btn-success(type="submit")
                  i.fas.fa-user-plus.me-2
                  | Create Staff Account

          .card-footer.text-muted.small
            i.fas.fa-info-circle.me-1
            | The new staff member will be created with basic access. Contact system admin for login credentials.
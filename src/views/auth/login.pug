extends ../layout

block content
  .container.mt-5
    .row.justify-content-center
      .col-md-6.col-lg-4
        .card
          .card-header.bg-primary.text-white.text-center
            h3.mb-0 
              i.fas.fa-sign-in-alt.me-2
              | Sakila Video Store Login
          .card-body
            //- Display error messages if any
            if error
              .alert.alert-danger.alert-dismissible.fade.show(role="alert")
                = error
                button.btn-close(type="button" data-bs-dismiss="alert" aria-label="Close")
            
            //- Display success messages if any
            if success
              .alert.alert-success.alert-dismissible.fade.show(role="alert")
                = success
                button.btn-close(type="button" data-bs-dismiss="alert" aria-label="Close")
            
            //- Login form
            form(action="/auth/login" method="POST" novalidate)
              .mb-3
                label.form-label(for="username") 
                  i.fas.fa-user.me-1
                  | Username
                input.form-control(
                  type="text" 
                  id="username" 
                  name="username" 
                  required
                  placeholder="Enter your username"
                  autocomplete="username"
                )
                .invalid-feedback
                  | Please enter your username.
              
              .mb-3
                label.form-label(for="password") 
                  i.fas.fa-lock.me-1
                  | Password
                input.form-control(
                  type="password" 
                  id="password" 
                  name="password" 
                  required
                  placeholder="Enter your password"
                  autocomplete="current-password"
                )
                .invalid-feedback
                  | Please enter your password.
              
              .d-grid
                button.btn.btn-primary.btn-lg(type="submit")
                  i.fas.fa-sign-in-alt.me-2
                  | Sign In
          
          .card-footer.text-center.text-muted
            small
              | Demo Accounts: 
              br
              | Staff: 
              strong mike 
              | (password: staff123)
              br
              | Customer: Use any email from customer table (password: customer123)
            hr.my-2
            p.mb-0
              | Don't have an account? 
              a.text-decoration-none(href="/auth/register")
                i.fas.fa-user-plus.me-1
                | Create New Account

  //- Client-side form validation
  script.
    // Bootstrap form validation
    (function() {
      'use strict';
      window.addEventListener('load', function() {
        var forms = document.getElementsByClassName('needs-validation');
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();
        
extends ../layout

block content
  .container-fluid
    // Page Header
    .row.mb-4
      .col-lg-8
        h1.h2.mb-1
          i.fas.fa-chart-bar.me-2.text-info
          | Reports Dashboard
        p.text-muted Access business intelligence and performance metrics
      
      .col-lg-4.text-lg-end
        if user && (user.role === 'admin')
          .btn-group
            a.btn.btn-outline-primary(href="/admin/films") Film Management
            a.btn.btn-outline-success(href="/admin/staff") Staff Management

    // Quick Report Access
    .row.mb-4
      .col-md-6.col-lg-4.mb-4
        .card.border-primary.h-100
          .card-header.bg-primary.text-white
            h5.card-title.mb-0
              i.fas.fa-users.me-2
              | Staff Performance
          
          .card-body
            p.card-text Monitor staff productivity, rental handling, and revenue generation over time periods.
            
            .row.mb-3
              .col-6
                .small.text-muted What's Included
                ul.small
                  li Rentals handled
                  li Revenue generated
                  li Performance scores
                  li Trend analysis
              .col-6
                .small.text-muted Available For
                ul.small
                  li Individual staff
                  li Department view
                  li Date ranges
                  li Comparison periods
            
            .d-grid
              a.btn.btn-primary(href="/reports/staff-performance")
                i.fas.fa-chart-line.me-2
                | View Staff Report

      .col-md-6.col-lg-4.mb-4
        .card.border-success.h-100
          .card-header.bg-success.text-white
            h5.card-title.mb-0
              i.fas.fa-film.me-2
              | Film Analytics
          
          .card-body
            p.card-text Analyze film popularity, rental patterns, and inventory performance metrics.
            
            .row.mb-3
              .col-6
                .small.text-muted What's Included
                ul.small
                  li Rental frequency
                  li Revenue per film
                  li Popular categories
                  li Inventory turnover
              .col-6
                .small.text-muted Available For
                ul.small
                  li Top performing films
                  li Category analysis
                  li Seasonal trends
                  li Underperforming titles
            
            .d-grid
              a.btn.btn-success(href="/reports/film-analytics")
                i.fas.fa-chart-pie.me-2
                | View Film Report

      .col-md-6.col-lg-4.mb-4
        .card.border-info.h-100
          .card-header.bg-info.text-white
            h5.card-title.mb-0
              i.fas.fa-dollar-sign.me-2
              | Revenue Reports
          
          .card-body
            p.card-text Track financial performance, payment trends, and revenue forecasting.
            
            .row.mb-3
              .col-6
                .small.text-muted What's Included
                ul.small
                  li Daily/monthly revenue
                  li Payment methods
                  li Late fee tracking
                  li Profit margins
              .col-6
                .small.text-muted Available For
                ul.small
                  li Time period analysis
                  li Store comparisons
                  li Customer segments
                  li Forecasting
            
            .d-grid
              a.btn.btn-info(href="/reports/revenue")
                i.fas.fa-money-bill-wave.me-2
                | View Revenue Report
          
    // Recent Activity Summary
    if recentActivity
      .row.mb-4
        .col-12
          .card
            .card-header
              h5.card-title.mb-0
                i.fas.fa-clock.me-2
                | Recent Activity Summary
                span.badge.bg-primary.ms-2 Last 7 Days
            
            .card-body
              .row
                .col-md-3.mb-3
                  .card.border-primary.text-center.h-100
                    .card-body
                      .display-6.text-primary.mb-2
                        i.fas.fa-shopping-cart
                      h4.card-title #{recentActivity.totalRentals || 0}
                      p.card-text.text-muted New Rentals
                
                .col-md-3.mb-3
                  .card.border-success.text-center.h-100
                    .card-body
                      .display-6.text-success.mb-2
                        i.fas.fa-dollar-sign
                      h4.card-title $#{parseFloat(recentActivity.totalRevenue || 0).toFixed(2)}
                      p.card-text.text-muted Revenue Generated
                
                .col-md-3.mb-3
                  .card.border-info.text-center.h-100
                    .card-body
                      .display-6.text-info.mb-2
                        i.fas.fa-user-plus
                      h4.card-title #{recentActivity.newCustomers || 0}
                      p.card-text.text-muted New Customers
                
                .col-md-3.mb-3
                  .card.border-warning.text-center.h-100
                    .card-body
                      .display-6.text-warning.mb-2
                        i.fas.fa-star
                      h4.card-title #{recentActivity.offerSelections || 0}
                      p.card-text.text-muted Offer Selections


  script.
    function exportAllReports(format) {
      alert('Exporting reports in ' + format.toUpperCase() + ' format... (Feature coming soon)');
    }

    function scheduleReport(frequency) {
      alert('Setting up ' + frequency + ' report schedule... (Feature coming soon)');
    }

  style.
    .card
      box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075)
      border: 1px solid rgba(0, 0, 0, 0.125)
      transition: box-shadow 0.2s
    .card:hover
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15)
    .btn-sm
      font-size: 0.875rem
    .display-6
      font-size: 2.5rem